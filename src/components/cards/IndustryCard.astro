---
// [Props]
const { icon, title, description, className } = Astro.props;

// [Components]
let IconComponent;
try {
	IconComponent = await import(`../../assets/icons/${icon}.astro`).then(
		(module) => module.default
	);
} catch (e) {
	console.error(`Failed to load icon: ${icon}`);
}
---

<div
	class=`card shadow-lg px-5 py-6 basis-full min-w-[300px] md:basis-[32%] grow
shrink-0 rounded-[0.875rem] lg:h-[420px] flex flex-col gap-6 group text-contrast-permanent ${className}`
>
	<div class='top-wrapper flex flex-col gap-4 items-start'>
		<span
			class=`icon-wrapper origin-top-left w-[4rem] h-[4rem] group-hover:text-branded-blue`
		>
			{
				IconComponent && (
					<IconComponent
						width='100%'
						height='100%'
						className='[transition:none!important]'
					/>
				)
			}
		</span>
		<div
			class='title font-secondary text-[1.25rem] lg:text-[2.5rem] lg:leading-none text-wrap uppercase font-bold text-contrast-permanent group-hover:text-light-permanent w-full origin-top-left'
		>
			{title}
		</div>
	</div>
	<div class='flex flex-col h-100% justify-between flex-grow'>
		<div class='text-body leading-5 text-light-permanent'>
			{description}
		</div>
		<a
			href='/contact'
			class='button uppercase w-fit text-primary-blue hover:border-b-2 font-bold font-secondary text-topper'
			>get started</a
		>
	</div>
</div>

<style>
	div > * {
		/* border: 2px solid red; */
	}
</style>
